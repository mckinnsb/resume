(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n.p+"static/media/monitor.a4573174.svg"},45:function(e,t,n){e.exports=n.p+"static/media/background.73745505.jpg"},49:function(e,t,n){e.exports=n(70)},68:function(e,t,n){e.exports=n.p+"static/media/commodore.252e74d8.woff"},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var i=n(4),a=n.n(i),r=n(24),c=n.n(r),o=n(12),u=n(26),s=n(9),h=n(16),l=n(11),d=n(21),f=n(19),m="DISPLAY.ADD_TO_MAIN_DISPLAY",g="DISPLAY.DELETE_LAST_CHARACTER",p="DISPLAY.INPUT_TO_DISPLAY",w="DISPLAY.FOCUS_INPUT",v="DISPLAY.SET_LEFT_DISPLAY",y="DISPLAY.SET_RIGHT_DISPLAY",b="DISPLAY.REFRESH";var E={main:"",left:"Loading..",right:"",inputting:!1,inputting_at:0};var O=Object(d.b)({display:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n=t.payload.message,i=e.main;return i+=n,Object(f.a)({},e,{main:i,inputting:!1});case p:var a=t.payload.message,r=e.main;return r+=a,Object(f.a)({},e,{main:r});case g:var c=e.main,o=e.inputting_at;return c.length>o&&(c=c.slice(0,-1)),Object(f.a)({},e,{main:c});case w:if(e.inputting)return e;var u=e.main.length;return Object(f.a)({},e,{inputting_at:u,inputting:!0});case b:var s=e.left,h=e.right,l=e.main;return s+=" ",h=" "+h,l=" "+l,Object(f.a)({},e,{left:s,right:h,main:l});case v:var d=t.payload.message;return Object(f.a)({},e,{left:d});case y:var O=t.payload.message;return Object(f.a)({},e,{right:O});default:return e}}}),j=n(46),x=n(40);function L(e,t,n){e.beginFill(t,1);var i=n.x,a=n.y,r=n.width,c=n.height;e.drawRect(i,a,r,c),e.endFill()}function S(){return{width:window.innerWidth,height:window.innerHeight}}var D=Object(s.withFilters)(s.Container,[j.a]);function k(e){var t=function(e){return{vignettingAlpha:.4,noise:.1,noiseSize:2.3,seed:Math.random(),time:e,lineWidth:6,lineContrast:.03,animating:!0}}(function(){var e=Object(i.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useRef)(0);return Object(i.useEffect)(function(){return r.current=window.requestAnimationFrame(function e(t){a(function(e){return e+1}),r.current=window.requestAnimationFrame(e)}),function(){window.cancelAnimationFrame(r.current)}},[]),n}()/2.71);return a.a.createElement(D,Object.assign({},t,e))}var A=n(7),T=h.isMobile?16777215:8155610,I=new A.p({fill:T,fontFamily:"Commodore"}),C=function(){return h.isMobile?11:24},_=h.isMobile?3684408:4076194,P=2565927,R=6569513;var F=I.clone();F.fill=0;var M=Object(l.b)(function(e){var t=e.display;return{left:t.left,right:t.right}})(function(e){var t=e.left,n=e.right,i=e.x,r=e.y,c=e.height,o=e.width,u={x:i,y:r,height:c,width:o},h={height:c,width:o},l={x:0,y:0,anchor:[0,0]},d=function(e){return{x:e.width,y:0,anchor:[1,0]}}(h);return F.fontSize=C(),a.a.createElement(s.Container,u,a.a.createElement(s.Graphics,{draw:function(e){return function(e,t,n){e.beginFill(t,1);var i=n.x,a=n.y,r=n.width,c=n.height;e.drawRect(i,a,r,c),e.endFill()}(e,T,h)}}),a.a.createElement(s.Text,Object.assign({},l,{text:t,style:F})),a.a.createElement(s.Text,Object.assign({},d,{text:n,style:F})))});var Y=I.clone();var z=Object(l.b)(function(e){return{main:e.display.main}})(function(e){var t=e.main,n=e.x,r=e.y,c=e.height,o=e.width,u={x:n,y:r,height:c,width:o},h={height:c,width:o},l=function(e){return{x:0,y:e.height,anchor:[0,1]}}(h),d=Object(i.useRef)();return Y.wordWrap=!0,Y.wordWrapWidth=o,Y.fontSize=C(),a.a.createElement(s.Container,u,a.a.createElement(s.Graphics,{draw:function(e){return L(e,_,h)}}),a.a.createElement(s.Graphics,{draw:function(e){return L(e,_,h)},ref:d}),a.a.createElement(s.Text,Object.assign({},l,{style:Y,text:t,mask:d.current})))}),W=n(13),G=n.n(W),B=n(41),H=n.n(B);function N(e){var t=e.css,n=e.font,a=e.refreshDisplay,r=Object(i.useState)(!1),c=Object(o.a)(r,2),u=c[0],s=c[1];return u||(H.a.load({active:function(){a()},custom:{families:[n],urls:[t]}}),s(!0)),null}N.propTypes={font:G.a.string,css:G.a.string};var U={refreshDisplay:function(){return{type:b,payload:{message:"refresh"}}}},q=Object(l.b)(null,U)(N),J=n(28),Z=window.RustyZ;function $(){var e=Object(u.a)(["\n  position: absolute;\n  display: block;\n  opacity: 0;\n  top: 0;\n  left: 0;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 5;\n"]);return $=function(){return e},e}var K=J.a.input($());var Q={inputToDisplay:function(e){return{type:p,payload:{message:e}}},deleteLastCharacter:function(){return{type:g,payload:{message:""}}}},V=Object(l.b)(function(e){var t=e.display;return{main:t.main,inputting:t.inputting}},Q)(function(e){var t=e.inputToDisplay,n=e.deleteLastCharacter,i=Z.update,r=a.a.useState(""),c=Object(o.a)(r,2),u=c[0],s=c[1];a.a.useEffect(function(){var e=function(e){if(function(e){return"Backspace"===e.key||"Delete"===e.key}(e))n(),u.length>0&&s(u.slice(0,-1));else if(function(e){return"Enter"===e.key}(e))t("\n"),i(u),s("");else if(function(e){return Boolean(String.fromCharCode(e.keyCode).match(/(\w|\s)/g))}(e))return t(e.key),void s(u+e.key)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}});var l=a.a.useRef(null);return a.a.useEffect(function(){var e,t=h.isMobile&&null!==u.current;return t&&(e=function(){l.current.focus()},document.addEventListener("click",e),document.addEventListener("touchend",e)),t?function(){document.removeEventListener("click",e),document.removeEventListener("touchend",e)}:function(){}}),h.isMobile?a.a.createElement(K,{ref:l}):null}),X=n(72);function ee(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],c=e.setLeftDisplay,u=e.setRightDisplay,s=e.addToMainDisplay,h=e.focusInput;a||(new X.a(function(e){Z.subscribe(function(t){e.next(t)})}).subscribe(function(e){switch(e.source){case"left":c(e.content);break;case"right":u(e.content);break;case"main":s(e.content);break;case"input":h()}}),r(!0));return null}ee.propTypes={};var te={setLeftDisplay:function(e){return{type:v,payload:{message:e}}},setRightDisplay:function(e){return{type:y,payload:{message:e}}},addToMainDisplay:function(e){return{type:m,payload:{message:e}}},focusInput:function(){return{type:w,payload:{message:"focus"}}}},ne=Object(l.b)(null,te)(ee),ie=n(44),ae=n.n(ie),re=n(45),ce=n.n(re);n(68),n(69);function oe(){var e=Object(u.a)(["\n  position: absolute;\n"]);return oe=function(){return e},e}var ue=Object(d.c)(O),se=578,he=400,le=800,de=800,fe=20,me=J.a.div(oe());function ge(e){var t=e.width,n=e.height,i=Math.abs(t-n),a=0,r=0;return t>n?a+=i/2:r+=i/2,{width:t=n=Math.min(t,n),height:n,x:a,y:r}}function pe(e){var t=e.width;return{x:e.x,y:e.y,width:t,height:C()+4}}var we=function(){var e=function(){var e=Object(i.useState)(S()),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),c=Object(o.a)(r,2),u=c[0],s=c[1];return Object(i.useEffect)(function(){var e=function(){var e=S();a(e),s(!1)};e=Object(x.debounce)(e,250),window.addEventListener("resize",e);var t=function(){s(!0)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),window.removeEventListener("resize",e)}},[]),[n,u]}(),t=Object(o.a)(e,2),n=t[0],r=t[1],c=ge(n),u=function(e){var t=e.width,n=e.height,i=ge(e).height;return{x:0,y:0,height:i+(n-i)/2,width:t}}(n),d=function(e,t){var n=e.width,i=e.height;return{y:e.y+i,x:0,height:fe*(t.height/de),width:n}}(u,n),f=function(e){var t=e.width,n=e.height,i=e.x,a=e.y;return{x:t/le*112+i,y:n/de*120+a,width:se*(t/le),height:he*(n/de)}}(c),m=function(e){var t=e.width,n=e.height,i=e.x,a=e.y,r=h.isMobile?80:162,c=t+r,o=n+r;return{width:c,height:o,x:i-=(c-t)/2,y:a-=(o-n)/2}}(f),g=pe(f),p=g.x,w=g.y,v=g.width,y=g.height,b={x:p,y:w,width:v,height:y},E=function(e){var t=e.width,n=e.height,i=e.x,a=e.y,r=pe(e).height;return{x:i,y:a+r,height:n-r,width:t}}(f),O={x:p=E.x,y:w=E.y,width:v=E.width,height:y=E.height},j={backgroundColor:0};return r?null:a.a.createElement(me,null,a.a.createElement(s.Stage,Object.assign({},n,{options:j}),a.a.createElement(l.a,{store:ue},a.a.createElement(s.Sprite,Object.assign({image:ce.a,anchor:0},u)),a.a.createElement(s.Graphics,{draw:function(e){return L(e,P,m)}}),a.a.createElement(s.Graphics,{draw:function(e){return L(e,R,d)}}),a.a.createElement(k,{zIndex:1},a.a.createElement(M,b),a.a.createElement(z,O),a.a.createElement(ne,null),a.a.createElement(q,{css:"./App.css",font:"Commodore"})),a.a.createElement(s.Sprite,Object.assign({image:ae.a,anchor:0},c)))),a.a.createElement(l.a,{store:ue},a.a.createElement(V,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=document.getElementById("root");c.a.render(a.a.createElement(we,null),ve),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.d72f0e21.chunk.js.map