(this.webpackJsonpsecret_machine=this.webpackJsonpsecret_machine||[]).push([[0],{34:function(e,t,n){e.exports=n(55)},39:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),r=n(22),c=n.n(r),o=n(16),u=(n(39),n(10)),s=n(33),h=n(11),l=n(19),d=n(18),g="DISPLAY.ADD_TO_MAIN_DISPLAY",p="DISPLAY.DELETE_LAST_CHARACTER",m="DISPLAY.INPUT_TO_DISPLAY",y="DISPLAY.FOCUS_INPUT",f="DISPLAY.SET_LEFT_DISPLAY",w="DISPLAY.SET_RIGHT_DISPLAY";var v={main:"",left:"Loading..",right:"",inputting:!1,inputting_at:0};var b=Object(l.b)({display:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n=t.payload.message,a=e.main;return a+=n,Object(d.a)({},e,{main:a,inputting:!1});case m:var i=t.payload.message,r=e.main;return r+=i,Object(d.a)({},e,{main:r});case p:var c=e.main,o=e.inputting_at;return c.length>o&&(c=c.slice(0,-1)),Object(d.a)({},e,{main:c});case y:if(e.inputting)return e;var u=e.main.length;return Object(d.a)({},e,{inputting_at:u,inputting:!0});case f:var s=t.payload.message;return Object(d.a)({},e,{left:s});case w:var h=t.payload.message;return Object(d.a)({},e,{right:h});default:return e}}}),O=new(n(7).p)({fill:"#30ff5d"});var j=Object(h.b)((function(e){var t=e.display;return{left:t.left,right:t.right}}))((function(e){var t=e.left,n=e.right,a={x:e.x,y:e.y,height:e.height,width:e.width},r={x:0,y:0,anchor:[0,0]},c=function(e){return{x:e.width,y:0,anchor:[1,0]}}(a);return i.a.createElement(u.Container,a,i.a.createElement(u.Text,Object.assign({},r,{text:t,style:O})),i.a.createElement(u.Text,Object.assign({},c,{text:n,style:O})))}));var E=O.clone();var D=Object(h.b)((function(e){return{main:e.display.main}}))((function(e){var t=e.main,n=e.x,a=e.y,r=e.height,c=e.width,o={x:n,y:a,height:r,width:c},s=function(e){return{x:0,y:e.height,anchor:[0,1]}}(o);return E.wordWrap=!0,E.wordWrapWidth=c,i.a.createElement(u.Container,o,i.a.createElement(u.Text,Object.assign({},s,{style:E,text:t})))})),x=n(57),L=window.RustyZ;function S(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1],c=e.setLeftDisplay,u=e.setRightDisplay,s=e.addToMainDisplay,h=e.focusInput;i||(new x.a((function(e){L.subscribe((function(t){e.next(t)}))})).subscribe((function(e){switch(e.source){case"left":c(e.content);break;case"right":u(e.content);break;case"main":s(e.content);break;case"input":h()}})),r(!0));return null}S.propTypes={};var T={setLeftDisplay:function(e){return{type:f,payload:{message:e}}},setRightDisplay:function(e){return{type:w,payload:{message:e}}},addToMainDisplay:function(e){return{type:g,payload:{message:e}}},focusInput:function(){return{type:y,payload:{message:"focus"}}}},A=Object(h.b)(null,T)(S);function I(e){var t=e.inputToDisplay,n=e.deleteLastCharacter,i=Object(a.useState)(""),r=Object(o.a)(i,2),c=r[0],u=r[1],s=L.update;return Object(a.useEffect)((function(){var e=function(e){return"Backspace"===e.key||"Delete"===e.key?(n(),void(c.length>0&&u(c.slice(0,-1)))):"Enter"===e.key?(t("\n"),s(c),void u("")):String.fromCharCode(e.keyCode).match(/(\w|\s)/g)?(t(e.key),void u(c+e.key)):void 0};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),null}I.propTypes={};var _={inputToDisplay:function(e){return{type:m,payload:{message:e}}},deleteLastCharacter:function(){return{type:p,payload:{message:""}}}},k=Object(h.b)((function(e){var t=e.display;return{main:t.main,inputting:t.inputting}}),_)(I),P=Object(l.c)(b);function C(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight});return Object(o.a)(e,1)[0]}function Y(e){return{x:0,y:0,width:e.width,height:function(e){return parseInt(.1*e,10)}(e.height)}}var F=Object(u.withFilters)(u.Container,[s.a]);var R=function(){var e=C(),t=Y(e),n=t.x,r=t.y,c=t.width,s=t.height,l={x:n,y:r,width:c,height:s},d=function(e){var t=e.width,n=e.height,a=Y(e).height;return{x:0,y:a,height:function(e,t){return e-t}(n,a),width:t}}(e),g={x:n=d.x,y:r=d.y,width:c=d.width,height:s=d.height},p=Object(a.useState)(0),m=Object(o.a)(p,2),y=m[0],f=m[1];return Object(a.useEffect)((function(){var e;return e=window.requestAnimationFrame((function t(n){f(n),e=window.requestAnimationFrame(t)})),function(){window.cancelAnimationFrame(e)}})),i.a.createElement(u.Stage,e,i.a.createElement(h.a,{store:P},i.a.createElement(F,{vignettingAlpha:.5,noise:.3,seed:.5,time:y,animating:!0},i.a.createElement(j,l),i.a.createElement(D,g),i.a.createElement(A,null),i.a.createElement(k,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=document.getElementById("root");c.a.render(i.a.createElement(R,null),W),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a4265197.chunk.js.map